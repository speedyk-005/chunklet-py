
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="One library to split them all: Sentence, Code, Docs‚Äî RAG-ready, token-aware, and multi-format.">
      
      
      
        <link rel="canonical" href="https://speedyk-005.github.io/chunklet-py/2.2.0/getting-started/programmatic/document_chunker/">
      
      
        <link rel="prev" href="../sentence_splitter/">
      
      
        <link rel="next" href="../code_chunker/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Document Chunker - chunklet-py Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%2020c-4.41%200-8-3.59-8-8s3.59-8%208-8%208%203.59%208%208-3.59%208-8%208m0-18A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202m1%205h-2v4H7v2h4v4h2v-4h4v-2h-4z%22/%3E%3C/svg%3E');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#document-chunker" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  <div class="md-banner md-banner--warning">
    You're not viewing the latest version.
    <a href="../../../..">
      <strong>Click here to go to latest.</strong>
    </a>
  </div>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="chunklet-py Documentation" class="md-header__button md-logo" aria-label="chunklet-py Documentation" data-md-component="logo">
      
  <img src="../../../img/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            chunklet-py Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Document Chunker
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/speedyk-005/chunklet-py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../installation/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../supported-languages/" class="md-tabs__link">
        
  
  
    
  
  Supported Languages

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../how-to/custom-tokenizer/" class="md-tabs__link">
          
  
  
    
  
  How-To Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../exceptions-and-warnings/" class="md-tabs__link">
        
  
  
    
  
  Exceptions and Warnings

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../whats-new/" class="md-tabs__link">
        
  
  
    
  
  What's New

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../migration/" class="md-tabs__link">
        
  
  
    
  
  Migration Guide

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../troubleshooting/" class="md-tabs__link">
        
  
  
    
  
  Troubleshooting

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/chunklet/" class="md-tabs__link">
          
  
  
    
  
  API Reference

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="chunklet-py Documentation" class="md-nav__button md-logo" aria-label="chunklet-py Documentation" data-md-component="logo">
      
  <img src="../../../img/logo.svg" alt="logo">

    </a>
    chunklet-py Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/speedyk-005/chunklet-py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Programmatic Usage
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Programmatic Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sentence_splitter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sentence Splitter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Document Chunker
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Document Chunker
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-install" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Install
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#taming-your-text-and-documents-with-precision" class="md-nav__link">
    <span class="md-ellipsis">
      
        Taming Your Text and Documents with Precision
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Taming Your Text and Documents with Precision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-documentchunker-really-shines" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where DocumentChunker Really Shines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composable-constraints-your-text-your-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Composable Constraints: Your Text, Your Rules!
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#single-chunk-one-text" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single: Chunk One Text! üìù
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single: Chunk One Text! üìù">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chunking-by-sentences-sentence-group-guru" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Sentences: Sentence Group Guru! üìù
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunking-by-tokens-token-budget-master" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Tokens: Token Budget Master! ü™ô
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunking-by-section-breaks-structure-superhero" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Section Breaks: Structure Superhero! ü¶∏‚Äç‚ôÄÔ∏è
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-multiple-constraints-mix-and-match-magic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining Multiple Constraints: Mix and Match Magic! üé≠
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#single-file-process-one-document" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single File: Process One Document! üìÑ
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-chunk-multiple-items" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch: Chunk Multiple Items! üìö
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch: Chunk Multiple Items! üìö">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-texts" class="md-nav__link">
    <span class="md-ellipsis">
      
        For Texts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        For Files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#separator-keeping-your-batches-organized" class="md-nav__link">
    <span class="md-ellipsis">
      
        Separator: Keeping Your Batches Organized! üìã
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-processors-build-your-own-document-wizards" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom processors: Build Your Own Document Wizards! üõ†Ô∏èüîÆ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom_processor_registry-methods-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        custom_processor_registry Methods Summary
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visualizer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../supported-languages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Supported Languages
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    How-To Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-To Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../how-to/custom-tokenizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Tokenizers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../exceptions-and-warnings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exceptions and Warnings
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../whats-new/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What's New
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>chunklet
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>chunklet
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/base_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>base_chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>cli
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/code_chunker/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>code_chunker
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_1_4" id="__nav_9_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>code_chunker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/code_chunker/_code_structure_extractor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>_code_structure_extractor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/code_chunker/code_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>code_chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/code_chunker/patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/code_chunker/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/common/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>common
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_1_5" id="__nav_9_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>common
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/batch_runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>batch_runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/deprecation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>deprecation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/logging_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>logging_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/path_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>path_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/token_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>token_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/document_chunker/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>document_chunker
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_1_6" id="__nav_9_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>document_chunker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/_plain_text_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>_plain_text_chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_6_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/document_chunker/converters/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>converters
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_1_6_3" id="__nav_9_1_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_9_1_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>converters
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/converters/html_2_md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>html_2_md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/converters/latex_2_md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>latex_2_md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/converters/rst_2_md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>rst_2_md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/converters/table_2_md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>table_2_md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/document_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>document_chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_6_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/document_chunker/processors/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>processors
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_1_6_5" id="__nav_9_1_6_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_9_1_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_6_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>processors
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/base_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>base_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/docx_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>docx_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/epub_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>epub_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/odt_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>odt_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/pdf_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>pdf_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/sentence_splitter/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>sentence_splitter
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_1_8" id="__nav_9_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>sentence_splitter
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/_fallback_splitter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>_fallback_splitter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/languages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>languages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/sentence_splitter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>sentence_splitter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/terminators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>terminators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/visualizer/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>visualizer
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9_1_9" id="__nav_9_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>visualizer
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/visualizer/visualizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>visualizer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-install" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Install
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#taming-your-text-and-documents-with-precision" class="md-nav__link">
    <span class="md-ellipsis">
      
        Taming Your Text and Documents with Precision
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Taming Your Text and Documents with Precision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-documentchunker-really-shines" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where DocumentChunker Really Shines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composable-constraints-your-text-your-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Composable Constraints: Your Text, Your Rules!
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#single-chunk-one-text" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single: Chunk One Text! üìù
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single: Chunk One Text! üìù">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chunking-by-sentences-sentence-group-guru" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Sentences: Sentence Group Guru! üìù
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunking-by-tokens-token-budget-master" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Tokens: Token Budget Master! ü™ô
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunking-by-section-breaks-structure-superhero" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Section Breaks: Structure Superhero! ü¶∏‚Äç‚ôÄÔ∏è
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-multiple-constraints-mix-and-match-magic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining Multiple Constraints: Mix and Match Magic! üé≠
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#single-file-process-one-document" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single File: Process One Document! üìÑ
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-chunk-multiple-items" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch: Chunk Multiple Items! üìö
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch: Chunk Multiple Items! üìö">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-texts" class="md-nav__link">
    <span class="md-ellipsis">
      
        For Texts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        For Files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#separator-keeping-your-batches-organized" class="md-nav__link">
    <span class="md-ellipsis">
      
        Separator: Keeping Your Batches Organized! üìã
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-processors-build-your-own-document-wizards" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom processors: Build Your Own Document Wizards! üõ†Ô∏èüîÆ
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom_processor_registry-methods-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        custom_processor_registry Methods Summary
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="document-chunker">Document Chunker</h1>
<p align="center">
  <img src="../../../img/document_chunker.jpg" alt="Document Chunker" width="512"/>
</p>

<h2 id="quick-install">Quick Install</h2>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip<span class="w"> </span>install<span class="w"> </span>chunklet-py
</code></pre></div>
<p>No extra dependencies needed - <code>DocumentChunker</code> is ready to roll right out of the box for plain text! üöÄ</p>
<p>For document processing (PDFs, DOCX, EPUB, ODT, Excel, etc.), install the structured-document extra:</p>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>pip<span class="w"> </span>install<span class="w"> </span>chunklet-py<span class="o">[</span>structured-document<span class="o">]</span>
</code></pre></div>
<p>This installs all the document processing dependencies needed to handle PDFs, DOCX, EPUB, ODT, Excel, and more! üìö</p>
<h2 id="taming-your-text-and-documents-with-precision">Taming Your Text and Documents with Precision</h2>
<p>Got a wall of text that's overwhelming? The <code>DocumentChunker</code> transforms unruly paragraphs into perfectly sized, context-aware chunks. Perfect for RAG systems and document analysis.</p>
<p>It preserves meaning and flow ‚Äî no confusing puzzle pieces.</p>
<h3 id="where-documentchunker-really-shines">Where <code>DocumentChunker</code> Really Shines</h3>
<p>The <code>DocumentChunker</code> comes packed with smart features that make it your go-to text wrangling sidekick:</p>
<ul>
<li><strong>Flexible Composable Constraints:</strong> Ultimate control over your chunks! Mix and match limits based on sentences, tokens, or section breaks (headings, horizontal rules, <code>&lt;details&gt;</code> tags). Craft exactly the chunk size you need with precision control! üéØ</li>
<li><strong>Intelligent Overlap:</strong> Adds smart overlaps between chunks so your text flows smoothly. No more jarring transitions that leave readers scratching their heads!</li>
<li><strong>Extensive Multilingual Support:</strong> Speaks over 50 languages fluently, thanks to our trusty sentence splitter. Global domination through better text chunking! üåç</li>
<li><strong>Customizable Token Counting:</strong> Plug in your own token counter for perfect alignment with different LLMs. Because one size definitely doesn't fit all models!</li>
<li><strong>Memory-Conscious Operation:</strong> Handles massive documents efficiently by yielding chunks one at a time. Your RAM will thank you later! üíæ</li>
<li><strong>Multi-Format Maestro:</strong> From corporate DOCX boardrooms to academic PDF libraries, this chunker speaks every file language fluently! Handles <code>.pdf</code>, <code>.docx</code>, <code>.epub</code>, <code>.txt</code>, <code>.tex</code>, <code>.html</code>, <code>.hml</code>, <code>.md</code>, <code>.rst</code>, <code>.rtf</code>, <code>.odt</code>, <code>.csv</code>, and <code>.xlsx</code> files like a pro. üåç</li>
<li><strong>Metadata Magician:</strong> Not just text - it automatically enriches your chunks with valuable metadata. Your chunks come with bonus context! üìä</li>
<li><strong>Bulk Processing Powerhouse:</strong> Got a mountain of documents to conquer? No problem! This powerhouse efficiently processes multiple documents in parallel. üìö‚ö°</li>
<li><strong>Pluggable Processor Power:</strong> Have a mysterious file format that's one-of-a-kind? Plug in your own custom processors - <code>DocumentChunker</code> is ready for any challenge you throw at it! üîåüõ†Ô∏è</li>
</ul>
<div class="admonition note">
<p class="admonition-title">No Scanned PDF Support</p>
<p>Currently, <code>DocumentChunker</code> does <strong>not</strong> support scanned PDFs (images). It can only process PDFs with selectable/extractable text. For scanned documents, you'll need to OCR them first before chunking! üì∑</p>
</div>
<h3 id="composable-constraints-your-text-your-rules">Composable Constraints: Your Text, Your Rules!</h3>
<p><code>DocumentChunker</code> lets you call the shots with composable constraints. Mix and match limits to craft the perfect chunk size for your needs. Here's the constraint menu:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Constraint</th>
<th style="text-align: left;">Value Requirement</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>max_sentences</code></td>
<td style="text-align: left;"><code>int &gt;= 1</code></td>
<td style="text-align: left;">Sentence power mode! Tell us how many sentences per chunk, and we'll group them thoughtfully so your ideas flow like a well-written story.</td>
</tr>
<tr>
<td style="text-align: left;"><code>max_tokens</code></td>
<td style="text-align: left;"><code>int &gt;= 12</code></td>
<td style="text-align: left;">Token budget watcher! We'll carefully pack sentences into chunks while respecting your token limits. If a sentence gets too chatty, we'll politely split it at clause boundaries. ü§ê</td>
</tr>
<tr>
<td style="text-align: left;"><code>max_section_breaks</code></td>
<td style="text-align: left;"><code>int &gt;= 1</code></td>
<td style="text-align: left;">Structure superhero! Limits section breaks per chunk ‚Äî headings (<code>##</code>), horizontal rules (<code>---</code>, <code>***</code>, <code>___</code>), and <code>&lt;details&gt;</code> tags. Your document structure stays intact!</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Quick Note: Constraints Required!</p>
<p>You must specify at least one limit (<code>max_sentences</code>, <code>max_tokens</code>, or <code>max_section_breaks</code>) when using chunking methods. Forget to add one? You'll get an <a href="../../../exceptions-and-warnings/#invalidinputerror"><code>InvalidInputError</code></a>!</p>
</div>
<p>The <code>DocumentChunker</code> has four main methods: <code>chunk_text</code>, <code>chunk_file</code>, <code>chunk_texts</code>, and <code>chunk_files</code>. <code>chunk_text</code> and <code>chunk_file</code> return a list of <a href="https://pypi.org/project/python-box/"><code>Box</code></a> objects, while <code>chunk_texts</code> and <code>chunk_files</code> are memory-friendly generators that yield chunks one by one. Each <code>Box</code> has <code>content</code> (the actual text) and <code>metadata</code> (all the juicy details). Check the <a href="../../metadata/#documentchunker-metadata">Metadata guide</a> for the full scoop!</p>
<h2 id="single-chunk-one-text">Single: Chunk One Text! üìù</h2>
<p>Chunk a single string of text into manageable pieces using various constraints:
- <code>chunk_text()</code> - accepts raw text as a string
- <code>chunk_file()</code> - accepts a file path as a string or <code>pathlib.Path</code> object</p>
<h3 id="chunking-by-sentences-sentence-group-guru">Chunking by Sentences: Sentence Group Guru! üìù</h3>
<p>Let's say you have this text:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a># Introduction to Chunking
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>This is the first paragraph of our document. It discusses the importance of text segmentation for various NLP tasks, such as RAG systems and summarization. We aim to break down large documents into manageable, context-rich pieces.
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>## Why is Chunking Important?
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>Effective chunking helps in maintaining the semantic coherence of information. It ensures that each piece of text retains enough context to be meaningful on its own, which is crucial for downstream applications.
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>### Different Strategies
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>There are several strategies for chunking, including splitting by sentences, by a fixed number of tokens, or by structural elements like headings. Each method has its own advantages depending on the specific use case.
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>---
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>## Advanced Chunking Techniques
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>Ready to go beyond the basics? Let&#39;s explore some pro-level techniques!
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>### Overlap Considerations
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>Overlap is your secret weapon! It includes a bit of the previous chunk at the start of the next one, ensuring your text doesn&#39;t feel choppy or disconnected.
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>---
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a># Conclusion
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>In conclusion, mastering chunking is key to unlocking the full potential of your text data.
</code></pre></div>
<p>Now let's see how to chunk it:</p>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span>
<span class="normal"><a href="#__codelineno-3-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.document_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">DocumentChunker</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;...&quot;</span>  <span class="c1"># The text from above</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">()</span>  <span class="c1"># (1)!</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_text</span><span class="p">(</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>    <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>             <span class="c1"># (2)!</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a>    <span class="n">overlap_percent</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>       <span class="c1"># (3)!</span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a>    <span class="n">offset</span><span class="o">=</span><span class="mi">0</span>                 <span class="c1"># (4)!</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="p">)</span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-3-19" name="__codelineno-3-19"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Initialize <code>DocumentChunker</code> - no extra dependencies needed for plain text!</li>
<li><code>lang="auto"</code> lets us detect the language automatically. Super convenient, but specifying a known language like <code>lang="en"</code> can boost accuracy and speed.</li>
<li><code>overlap_percent=0</code> means no overlap between chunks. By default, we add 20% overlap to keep your text flowing smoothly across chunks.</li>
<li><code>offset=0</code> starts us from the very beginning of the text. (Zero-based indexing - because programmers love starting from zero!)</li>
</ol>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>--- Chunk 1 ---
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (1, 73)}
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>Content: # Introduction to Chunking
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>This is the first paragraph of our document.
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>--- Chunk 2 ---
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (74, 259)}
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>Content: It discusses the importance of text segmentation for various NLP tasks, such as RAG systems and summarization.
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>We aim to break down large documents into manageable, context-rich pieces.
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>## Why is Chunking Important?
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>Effective chunking helps in maintaining the semantic coherence of information.
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>--- Chunk 3 ---
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (261, 370)}
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>Content: It ensures that each piece of text retains enough context to be meaningful on its own, which is crucial for downstream applications.
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>### Different Strategies
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>--- Chunk 4 ---
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>Metadata: {&#39;chunk_num&#39;: 4, &#39;span&#39;: (371, 529)}
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>Content: There are several strategies for chunking, including splitting by sentences, by a fixed number of tokens, or by structural elements like headings.
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>Each method has its own advantages depending on the specific use case.
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>--- Chunk 5 ---
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>Metadata: {&#39;chunk_num&#39;: 5, &#39;span&#39;: (531, 748)}
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>Content: ---
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>## Advanced Chunking Techniques
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>--- Chunk 6 ---
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>Metadata: {&#39;chunk_num&#39;: 6, &#39;span&#39;: (750, 787)}
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>Content: Ready to go beyond the basics?
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>Let&#39;s explore some pro-level techniques!
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>
<a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>--- Chunk 7 ---
<a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>Metadata: {&#39;chunk_num&#39;: 7, &#39;span&#39;: (788, 859)}
<a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a>Content: ### Overlap Considerations
<a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a>Overlap is your secret weapon!
<a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a>
<a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a>--- Chunk 8 ---
<a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a>Metadata: {&#39;chunk_num&#39;: 8, &#39;span&#39;: (861, 919)}
<a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a>Content: ### Overlap Considerations
<a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a>Overlap is your secret weapon!
<a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a>
<a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a>--- Chunk 9 ---
<a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a>Metadata: {&#39;chunk_num&#39;: 9, &#39;span&#39;: (920, 1050)}
<a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a>Content: It includes a bit of the previous chunk at the start of the next one, ensuring your text doesn&#39;t feel choppy or disconnected.
<a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a>
<a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a>---
<a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a>
<a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a>--- Chunk 10 ---
<a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a>Metadata: {&#39;chunk_num&#39;: 10, &#39;span&#39;: (1052, 1157)}
<a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a>Content: # Conclusion
<a id="__codelineno-4-55" name="__codelineno-4-55" href="#__codelineno-4-55"></a>In conclusion, mastering chunking is key to unlocking the full potential of your text data.
</code></pre></div>
</details>
<h3 id="chunking-by-tokens-token-budget-master">Chunking by Tokens: Token Budget Master! ü™ô</h3>
<div class="admonition note">
<p class="admonition-title">Token Counter Requirement</p>
<p>When using the <code>max_tokens</code> constraint, a <code>token_counter</code> function is essential. This function, which you provide, should accept a string and return an integer representing its token count. Failing to provide a <code>token_counter</code> will result in a <a href="../../../exceptions-and-warnings/#missingtokencountererror"><code>MissingTokenCounterError</code></a>.</p>
</div>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.document_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">DocumentChunker</span>
</span><a id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">word_counter</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="hll">    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</span><a id="__codelineno-5-5" name="__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="hll"><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">(</span><span class="n">token_counter</span><span class="o">=</span><span class="n">word_counter</span><span class="p">)</span>
</span><a id="__codelineno-5-7" name="__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_text</span><span class="p">(</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="hll">    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
</span><a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="p">)</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>--- Chunk 1 ---
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (1, 290)}
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>Content: # Introduction to Chunking
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>This is the first paragraph of our document.
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>It discusses the importance of text segmentation for various NLP tasks, such as RAG systems and summarization.
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>We aim to break down large documents into manageable, context-rich pieces.
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>## Why is Chunking Important?
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>--- Chunk 2 ---
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (261, 573)}
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>Content: ... 
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>## Why is Chunking Important?
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>Effective chunking helps in maintaining the semantic coherence of information.
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>It ensures that each piece of text retains enough context to be meaningful on its own, which is crucial for downstream applications.
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>### Different Strategies
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>There are several strategies for chunking,
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>--- Chunk 3 ---
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (531, 859)}
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>Content: There are several strategies for chunking,
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>including splitting by sentences, by a fixed number of tokens, or by structural elements like headings.
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>Each method has its own advantages depending on the specific use case.
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>---
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>## Advanced Chunking Techniques
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>Ready to go beyond the basics?
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>Let&#39;s explore some pro-level techniques!
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>--- Chunk 4 ---
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>Metadata: {&#39;chunk_num&#39;: 4, &#39;span&#39;: (819, 1080)}
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>Content: Let&#39;s explore some pro-level techniques!
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>### Overlap Considerations
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>Overlap is your secret weapon!
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>It includes a bit of the previous chunk at the start of the next one, ensuring your text doesn&#39;t feel choppy or disconnected.
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>---
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a># Conclusion
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>In conclusion,
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>
<a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>--- Chunk 5 ---
<a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>Metadata: {&#39;chunk_num&#39;: 5, &#39;span&#39;: (1052, 1157)}
<a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a>Content: ... 
<a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a># Conclusion
<a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a>In conclusion,
<a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>mastering chunking is key to unlocking the full potential of your text data.
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Overrides token_counter</p>
<p>You can also provide the <code>token_counter</code> directly to any chunking method. If provided in both the constructor and the method, the one in the method will be used.</p>
</div>
<h3 id="chunking-by-section-breaks-structure-superhero">Chunking by Section Breaks: Structure Superhero! ü¶∏‚Äç‚ôÄÔ∏è</h3>
<p>This constraint is useful for documents structured with Markdown headings or thematic breaks.</p>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_text</span><span class="p">(</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="hll">    <span class="n">max_section_breaks</span><span class="o">=</span><span class="mi">2</span>
</span><a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="p">)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>--- Chunk 1 ---
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (1, 503)}
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Content: # Introduction to Chunking
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>This is the first paragraph of our document.
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>It discusses the importance of text segmentation for various NLP tasks, such as RAG systems and summarization.
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>We aim to break down large documents into manageable, context-rich pieces.
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>## Why is Chunking Important?
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>Effective chunking helps in maintaining the semantic coherence of information.
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>It ensures that each piece of text retains enough context to be meaningful on its own, which is crucial for downstream applications.
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>--- Chunk 2 ---
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (371, 753)}
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>Content: It ensures that each piece of text retains enough context to be meaningful on its own,
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>which is crucial for downstream applications.
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>### Different Strategies
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>There are several strategies for chunking, including splitting by sentences, by a fixed number of tokens, or by structural elements like headings.
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>Each method has its own advantages depending on the specific use case.
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>---
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>--- Chunk 3 ---
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (678, 859)}
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>Content: Each method has its own advantages depending on the specific use case.
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>---
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a>## Advanced Chunking Techniques
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a>Ready to go beyond the basics?
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a>Let&#39;s explore some pro-level techniques!
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a>--- Chunk 4 ---
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>Metadata: {&#39;chunk_num&#39;: 4, &#39;span&#39;: (819, 1050)}
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a>Content: Let&#39;s explore some pro-level techniques!
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a>### Overlap Considerations
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a>Overlap is your secret weapon!
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a>It includes a bit of the previous chunk at the start of the next one, ensuring your text doesn&#39;t feel choppy or disconnected.
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>---
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a>
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a>--- Chunk 5 ---
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a>Metadata: {&#39;chunk_num&#39;: 5, &#39;span&#39;: (1047, 1157)}
<a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>Content: ... 
<a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a>
<a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a>---
<a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a>
<a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a># Conclusion
<a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a>In conclusion, mastering chunking is key to unlocking the full potential of your text data.
</code></pre></div>
</details>
<h3 id="combining-multiple-constraints-mix-and-match-magic">Combining Multiple Constraints: Mix and Match Magic! üé≠</h3>
<p>The real power of <code>DocumentChunker</code> comes from combining multiple constraints. The chunking will stop as soon as any of the limits is reached.</p>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span>
<span class="normal"><a href="#__codelineno-9-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_text</span><span class="p">(</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>    <span class="n">text</span><span class="p">,</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="hll">    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
</span><a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="hll">    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="hll">    <span class="n">max_section_breaks</span><span class="o">=</span><span class="mi">2</span>
</span><a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Customizing the Continuation Marker</p>
<p>You can customize the continuation marker, which is prepended to clauses that don't fit in the previous chunk. To do this, pass the <code>continuation_marker</code> parameter to the chunker's constructor.</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">(</span><span class="n">continuation_marker</span><span class="o">=</span><span class="s2">&quot;[...]&quot;</span><span class="p">)</span>
</code></pre></div>
<p>If you don't want any continuation marker, you can set it to an empty string:</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">(</span><span class="n">continuation_marker</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Enable Verbose Logging</p>
<p>To see detailed logging during the chunking process, you can set the <code>verbose</code> parameter to <code>True</code> when initializing the <code>DocumentChunker</code>:
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Custom Sentence Splitter</p>
<p>You can provide a custom <a href="../sentence_splitter/"><code>SentenceSplitter</code></a> instance to <code>DocumentChunker</code> for specialized sentence splitting behavior. For more details, see the <a href="../sentence_splitter/#custom-sentence-splitter">Sentence Splitter documentation</a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Adding Base Metadata</p>
<p>You can pass a <code>base_metadata</code> dictionary to <code>chunk_text</code> and <code>chunk_texts</code>. This metadata will be included in each chunk. For example: <code>chunker.chunk_text(..., base_metadata={"source": "my_document.txt"})</code>. For more details, see the <a href="../../metadata/#documentchunker-metadata">Metadata guide</a>.</p>
</div>
<h2 id="single-file-process-one-document">Single File: Process One Document! üìÑ</h2>
<p>While <code>chunk_text</code> is perfect for plain text, <code>chunk_file</code> handles document files. It supports the same constraints (max_sentences, max_tokens, max_section_breaks, etc.).</p>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span>
<span class="normal"><a href="#__codelineno-13-16">16</a></span>
<span class="normal"><a href="#__codelineno-13-17">17</a></span>
<span class="normal"><a href="#__codelineno-13-18">18</a></span>
<span class="normal"><a href="#__codelineno-13-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.document_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">DocumentChunker</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;sample_text.txt&quot;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">()</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_file</span><span class="p">(</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a>    <span class="n">path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a>    <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a>    <span class="n">overlap_percent</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a>    <span class="n">offset</span><span class="o">=</span><span class="mi">0</span>
<a id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="p">)</span>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a>
<a id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-13-16" name="__codelineno-13-16"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-13-17" name="__codelineno-13-17"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-13-18" name="__codelineno-13-18"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-13-19" name="__codelineno-13-19"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Special Handling for Streaming Processors</p>
<p>Some processors work differently due to their streaming nature - they yield content page by page or in blocks rather than all at once. This means they require special care:</p>
<p><strong>Streaming processors</strong> (PDF, EPUB, DOCX, ODT): These beauties process content as they go, so they're designed for <code>chunk_files</code> method. Using them with <code>chunk_file</code> will throw a <a href="../../../exceptions-and-warnings/#fileprocessingerror"><code>FileProcessingError</code></a> since <code>chunk_file</code> expects all content upfront.</p>
<p><strong>Regular processors</strong> work fine with both <code>chunk_file</code> and <code>chunk_files</code> methods.</p>
</div>
<h2 id="batch-chunk-multiple-items">Batch: Chunk Multiple Items! üìö</h2>
<p>While <code>chunk_text</code> is perfect for single texts and <code>chunk_file</code> for single files, <code>chunk_texts</code> and <code>chunk_files</code> are your power players for processing multiple texts or files in parallel. They use memory-friendly generators so you can handle massive collections with ease.</p>
<ul>
<li><code>chunk_texts()</code> - process multiple raw text strings</li>
<li><code>chunk_files()</code> - process multiple file paths</li>
</ul>
<h3 id="for-texts">For Texts</h3>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.document_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">DocumentChunker</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">word_counter</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="n">EN_TEXT</span> <span class="o">=</span> <span class="s2">&quot;This is the first document. It has multiple sentences for chunking. Here is the second document.&quot;</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="n">ES_TEXT</span> <span class="o">=</span> <span class="s2">&quot;Este es el primer documento. Contiene varias frases para la segmentaci√≥n de texto.&quot;</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">(</span><span class="n">token_counter</span><span class="o">=</span><span class="n">word_counter</span><span class="p">)</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="hll"><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_texts</span><span class="p">(</span>
</span><a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="hll">    <span class="n">texts</span><span class="o">=</span><span class="p">[</span><span class="n">EN_TEXT</span><span class="p">,</span> <span class="n">ES_TEXT</span><span class="p">],</span>
</span><a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="hll">    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
</span><a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="hll">    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="hll">    <span class="n">overlap_percent</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
</span><a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="hll">    <span class="n">n_jobs</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>                    <span class="c1"># (1)!</span>
</span><a id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="hll">    <span class="n">on_errors</span><span class="o">=</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span>           <span class="c1"># (2)!</span>
</span><a id="__codelineno-14-18" name="__codelineno-14-18"></a><span class="hll">    <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>          <span class="c1"># (3)!</span>
</span><a id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="hll"><span class="p">)</span>
</span><a id="__codelineno-14-20" name="__codelineno-14-20"></a>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-14-22" name="__codelineno-14-22"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-24" name="__codelineno-14-24"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-25" name="__codelineno-14-25"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Specifies the number of parallel processes to use for chunking. The default value is <code>None</code> (use all available CPU cores).</li>
<li>Define how to handle errors during processing. If set to <code>"raise"</code> (default), an exception will be raised immediately. If set to <code>"break"</code>, the process will halt and partial result will be returned. If set to <code>"ignore"</code>, errors will be silently ignored.</li>
<li>Display a progress bar during batch processing. The default value is <code>False</code>.</li>
</ol>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>--- Chunk 1 ---
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 82)}
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>Content: Este es el primer documento.
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>Contiene varias frases para la segmentaci√≥n de texto.
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>--- Chunk 2 ---
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (83, 196)}
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>Content: El segundo ejemplo es m√°s extenso para probar el procesamiento por lotes.
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>La tercera oraci√≥n a√±ade m√°s contenido.
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>--- Chunk 3 ---
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (197, 236)}
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>Content: Y la cuarta oraci√≥n para mayor medida.
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>--- Chunk 4 ---
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 96)}
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>Content: This is the first document.
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>It has multiple sentences for chunking.
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>Here is the second document.
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>--- Chunk 5 ---
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (97, 201)}
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>Content: It is a bit longer to test batch processing effectively.
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>This is the third sentence to add more content.
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>--- Chunk 6 ---
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (202, 294)}
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a>Content: And the fourth sentence for good measure.
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>The fifth sentence makes it even more interesting.
</code></pre></div>
</details>
<h3 id="for-files">For Files</h3>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="n">PATHS</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>    <span class="s2">&quot;samples/document.pdf&quot;</span><span class="p">,</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>    <span class="s2">&quot;samples/document.docx&quot;</span><span class="p">,</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="p">]</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_files</span><span class="p">(</span><span class="n">PATHS</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">Generator Cleanup</p>
<p>When using <code>chunk_texts</code>, it's crucial to ensure the generator is properly closed, especially if you don't iterate through all the chunks. This is necessary to release the underlying multiprocessing resources. The recommended way is to use a <code>try...finally</code> block to call <code>close()</code> on the generator. For more details, see the <a href="../../../troubleshooting/">Troubleshooting</a> guide.</p>
</div>
<h3 id="separator-keeping-your-batches-organized">Separator: Keeping Your Batches Organized! üìã</h3>
<p>The <code>separator</code> parameter works for both <code>chunk_texts</code> and <code>chunk_files</code>. It lets you add a custom marker that gets yielded after all chunks from a single input are processed. Super handy for batch processing when you want to clearly separate chunks from different source texts.</p>
<div class="admonition note">
<p class="admonition-title">Quick Note</p>
<p><code>None</code> won't work as a separator - you'll need something more substantial!</p>
</div>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span>
<span class="normal"><a href="#__codelineno-17-18">18</a></span>
<span class="normal"><a href="#__codelineno-17-19">19</a></span>
<span class="normal"><a href="#__codelineno-17-20">20</a></span>
<span class="normal"><a href="#__codelineno-17-21">21</a></span>
<span class="normal"><a href="#__codelineno-17-22">22</a></span>
<span class="normal"><a href="#__codelineno-17-23">23</a></span>
<span class="normal"><a href="#__codelineno-17-24">24</a></span>
<span class="normal"><a href="#__codelineno-17-25">25</a></span>
<span class="normal"><a href="#__codelineno-17-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.document_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">DocumentChunker</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">more_itertools</span><span class="w"> </span><span class="kn">import</span> <span class="n">split_at</span>
</span><a id="__codelineno-17-3" name="__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">()</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="n">texts</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a>    <span class="s2">&quot;This is the first document. It has two sentences.&quot;</span><span class="p">,</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a>    <span class="s2">&quot;This is the second document. It also has two sentences.&quot;</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="p">]</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="hll"><span class="n">custom_separator</span> <span class="o">=</span> <span class="s2">&quot;---END_OF_DOCUMENT---&quot;</span>
</span><a id="__codelineno-17-10" name="__codelineno-17-10"></a>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="n">chunks_with_separators</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_texts</span><span class="p">(</span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a>    <span class="n">texts</span><span class="p">,</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="hll">    <span class="n">separator</span><span class="o">=</span><span class="n">custom_separator</span><span class="p">,</span>
</span><a id="__codelineno-17-15" name="__codelineno-17-15"></a>    <span class="n">show_progress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="p">)</span>
<a id="__codelineno-17-17" name="__codelineno-17-17"></a>
<a id="__codelineno-17-18" name="__codelineno-17-18"></a><span class="hll"><span class="n">chunk_groups</span> <span class="o">=</span> <span class="n">split_at</span><span class="p">(</span><span class="n">chunks_with_separators</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="n">custom_separator</span><span class="p">)</span>
</span><a id="__codelineno-17-19" name="__codelineno-17-19"></a><span class="hll"><span class="c1"># Process the results using split_at</span>
</span><a id="__codelineno-17-20" name="__codelineno-17-20"></a><span class="hll"><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">doc_chunks</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunk_groups</span><span class="p">):</span>
</span><a id="__codelineno-17-21" name="__codelineno-17-21"></a><span class="hll">    <span class="k">if</span> <span class="n">doc_chunks</span><span class="p">:</span>        <span class="c1"># (1)!</span>
</span><a id="__codelineno-17-22" name="__codelineno-17-22"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunks for Document </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-17-23" name="__codelineno-17-23"></a>        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">doc_chunks</span><span class="p">:</span>
<a id="__codelineno-17-24" name="__codelineno-17-24"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-17-25" name="__codelineno-17-25"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-17-26" name="__codelineno-17-26"></a>        <span class="nb">print</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Avoid processing the empty list at the end if stream ends with separator</li>
</ol>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>--- Chunks for Document 1 ---
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>Content: This is the first document.
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 27)}
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>Content: It has two sentences.
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (28, 49)}
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>--- Chunks for Document 2 ---
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>Content: This is the second document.
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 28)}
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>Content: It also has two sentences.
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (29, 55)}
</code></pre></div>
</details>
<h3 id="custom-processors-build-your-own-document-wizards">Custom processors: Build Your Own Document Wizards! üõ†Ô∏èüîÆ</h3>
<p>Want to handle exotic file formats that <code>DocumentChunker</code> doesn't know about? Create your own custom processors! This lets you add specialized processing for any file type and prioritize your custom processors over the built-in ones.</p>
<div class="admonition warning">
<p class="admonition-title">Global Registry Alert!</p>
<p>Custom processors get registered globally - once you add one, it's available everywhere in your app. Watch out for side effects if you're registering processors across different parts of your codebase, especially in multi-threaded or long-running applications!</p>
</div>
<p>To use a custom processor, you leverage the <a href="../../../reference/chunklet/document_chunker/registry/"><code>@custom_processor_registry.register</code></a> decorator. This decorator allows you to register your function for one or more file extensions directly. Your custom processor function must accept a single <code>file_path</code> parameter (str) and return a <code>tuple[str | list[str], dict]</code> containing extracted text (or list of texts for multi-section documents) and a metadata dictionary.</p>
<div class="admonition important">
<p class="admonition-title">Custom Processor Rules</p>
<ul>
<li>Your function must accept exactly one required parameter (the file path)</li>
<li>Optional parameters with defaults are totally fine</li>
<li>File extensions must start with a dot (like <code>.json</code>, <code>.custom</code>)</li>
<li>Lambda functions are not supported unless you provide a <code>name</code> parameter</li>
<li>The metadata dictionary will be merged with common metadata (chunk_num, span, source)</li>
<li>For multi-section documents, return a list of strings - each will be processed as a separate section</li>
<li>If an error occurs during the document processing (e.g., an issue with the custom processor function), a <a href="../../../exceptions-and-warnings/#callbackerror"><code>CallbackError</code></a> will be raised</li>
</ul>
</div>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span>
<span class="normal"><a href="#__codelineno-19-15">15</a></span>
<span class="normal"><a href="#__codelineno-19-16">16</a></span>
<span class="normal"><a href="#__codelineno-19-17">17</a></span>
<span class="normal"><a href="#__codelineno-19-18">18</a></span>
<span class="normal"><a href="#__codelineno-19-19">19</a></span>
<span class="normal"><a href="#__codelineno-19-20">20</a></span>
<span class="normal"><a href="#__codelineno-19-21">21</a></span>
<span class="normal"><a href="#__codelineno-19-22">22</a></span>
<span class="normal"><a href="#__codelineno-19-23">23</a></span>
<span class="normal"><a href="#__codelineno-19-24">24</a></span>
<span class="normal"><a href="#__codelineno-19-25">25</a></span>
<span class="normal"><a href="#__codelineno-19-26">26</a></span>
<span class="normal"><a href="#__codelineno-19-27">27</a></span>
<span class="normal"><a href="#__codelineno-19-28">28</a></span>
<span class="normal"><a href="#__codelineno-19-29">29</a></span>
<span class="normal"><a href="#__codelineno-19-30">30</a></span>
<span class="normal"><a href="#__codelineno-19-31">31</a></span>
<span class="normal"><a href="#__codelineno-19-32">32</a></span>
<span class="normal"><a href="#__codelineno-19-33">33</a></span>
<span class="normal"><a href="#__codelineno-19-34">34</a></span>
<span class="normal"><a href="#__codelineno-19-35">35</a></span>
<span class="normal"><a href="#__codelineno-19-36">36</a></span>
<span class="normal"><a href="#__codelineno-19-37">37</a></span>
<span class="normal"><a href="#__codelineno-19-38">38</a></span>
<span class="normal"><a href="#__codelineno-19-39">39</a></span>
<span class="normal"><a href="#__codelineno-19-40">40</a></span>
<span class="normal"><a href="#__codelineno-19-41">41</a></span>
<span class="normal"><a href="#__codelineno-19-42">42</a></span>
<span class="normal"><a href="#__codelineno-19-43">43</a></span>
<span class="normal"><a href="#__codelineno-19-44">44</a></span>
<span class="normal"><a href="#__codelineno-19-45">45</a></span>
<span class="normal"><a href="#__codelineno-19-46">46</a></span>
<span class="normal"><a href="#__codelineno-19-47">47</a></span>
<span class="normal"><a href="#__codelineno-19-48">48</a></span>
<span class="normal"><a href="#__codelineno-19-49">49</a></span>
<span class="normal"><a href="#__codelineno-19-50">50</a></span>
<span class="normal"><a href="#__codelineno-19-51">51</a></span>
<span class="normal"><a href="#__codelineno-19-52">52</a></span>
<span class="normal"><a href="#__codelineno-19-53">53</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="hll"><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.document_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">DocumentChunker</span><span class="p">,</span> <span class="n">custom_processor_registry</span>
</span><a id="__codelineno-19-6" name="__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="hll"><span class="c1"># Define a simple custom processor for .json files</span>
</span><a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="hll"><span class="nd">@custom_processor_registry</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;.json&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyJSONProcessor&quot;</span><span class="p">)</span>
</span><a id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="hll"><span class="k">def</span><span class="w"> </span><span class="nf">my_json_processor</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>
</span><a id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="hll">    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><a id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="hll">        <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><a id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="hll">
</span><a id="__codelineno-19-14" name="__codelineno-19-14"></a><span class="hll">    <span class="c1"># Assuming the json has a &quot;text&quot; field with paragraphs</span>
</span><a id="__codelineno-19-15" name="__codelineno-19-15"></a><span class="hll">    <span class="n">text_content</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="p">[]))</span>
</span><a id="__codelineno-19-16" name="__codelineno-19-16"></a><span class="hll">    <span class="n">metadata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><a id="__codelineno-19-17" name="__codelineno-19-17"></a><span class="hll">    <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">file_path</span>
</span><a id="__codelineno-19-18" name="__codelineno-19-18"></a><span class="hll">    <span class="k">return</span> <span class="n">text_content</span><span class="p">,</span> <span class="n">metadata</span>
</span><a id="__codelineno-19-19" name="__codelineno-19-19"></a>
<a id="__codelineno-19-20" name="__codelineno-19-20"></a><span class="c1"># A longer and more complex JSON sample</span>
<a id="__codelineno-19-21" name="__codelineno-19-21"></a><span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-19-22" name="__codelineno-19-22"></a>    <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-19-23" name="__codelineno-19-23"></a>        <span class="s2">&quot;document_id&quot;</span><span class="p">:</span> <span class="s2">&quot;doc-12345&quot;</span><span class="p">,</span>
<a id="__codelineno-19-24" name="__codelineno-19-24"></a>        <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2025-11-05&quot;</span>
<a id="__codelineno-19-25" name="__codelineno-19-25"></a>    <span class="p">},</span>
<a id="__codelineno-19-26" name="__codelineno-19-26"></a>    <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">[</span>
<a id="__codelineno-19-27" name="__codelineno-19-27"></a>        <span class="s2">&quot;This is the first paragraph of our longer JSON sample. It contains multiple sentences to test the chunking process.&quot;</span><span class="p">,</span>
<a id="__codelineno-19-28" name="__codelineno-19-28"></a>        <span class="s2">&quot;The second paragraph introduces a new topic. We are exploring the capabilities of custom processors in the chunklet library.&quot;</span><span class="p">,</span>
<a id="__codelineno-19-29" name="__codelineno-19-29"></a>        <span class="s2">&quot;Finally, the third paragraph concludes our sample. We hope this demonstrates the flexibility of the system in handling various data formats.&quot;</span>
<a id="__codelineno-19-30" name="__codelineno-19-30"></a>    <span class="p">]</span>
<a id="__codelineno-19-31" name="__codelineno-19-31"></a><span class="p">}</span>
<a id="__codelineno-19-32" name="__codelineno-19-32"></a>
<a id="__codelineno-19-33" name="__codelineno-19-33"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">DocumentChunker</span><span class="p">()</span>
<a id="__codelineno-19-34" name="__codelineno-19-34"></a>
<a id="__codelineno-19-35" name="__codelineno-19-35"></a><span class="c1"># Use a temporary file</span>
<a id="__codelineno-19-36" name="__codelineno-19-36"></a><span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w+&#39;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmp</span><span class="p">:</span>
<a id="__codelineno-19-37" name="__codelineno-19-37"></a>    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">json_data</span><span class="p">,</span> <span class="n">tmp</span><span class="p">)</span>
<a id="__codelineno-19-38" name="__codelineno-19-38"></a>    <span class="n">tmp</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-19-39" name="__codelineno-19-39"></a>    <span class="n">tmp_path</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-19-40" name="__codelineno-19-40"></a>
<a id="__codelineno-19-41" name="__codelineno-19-41"></a>    <span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk_file</span><span class="p">(</span>
<a id="__codelineno-19-42" name="__codelineno-19-42"></a>        <span class="n">path</span><span class="o">=</span><span class="n">tmp_path</span><span class="p">,</span>
<a id="__codelineno-19-43" name="__codelineno-19-43"></a>        <span class="n">max_sentences</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-19-44" name="__codelineno-19-44"></a>    <span class="p">)</span>
<a id="__codelineno-19-45" name="__codelineno-19-45"></a>
<a id="__codelineno-19-46" name="__codelineno-19-46"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-19-47" name="__codelineno-19-47"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-19-48" name="__codelineno-19-48"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content:</span><span class="se">\n</span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-19-49" name="__codelineno-19-49"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata:</span><span class="se">\n</span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-19-50" name="__codelineno-19-50"></a>        <span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-19-51" name="__codelineno-19-51"></a>
<a id="__codelineno-19-52" name="__codelineno-19-52"></a><span class="hll"><span class="c1"># Optionally unregister</span>
</span><a id="__codelineno-19-53" name="__codelineno-19-53"></a><span class="hll"><span class="n">custom_processor_registry</span><span class="o">.</span><span class="n">unregister</span><span class="p">(</span><span class="s2">&quot;.json&quot;</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>--- Chunk 1 ---
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>Content:
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>This is the first paragraph of our longer JSON sample.
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>It contains multiple sentences to test the chunking process.
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>The second paragraph introduces a new topic.
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>We are exploring the capabilities of custom processors in the chunklet library.
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>Finally, the third paragraph concludes our sample.
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>Metadata:
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>{&#39;document_id&#39;: &#39;doc-12345&#39;, &#39;created_at&#39;: &#39;2025-11-05&#39;, &#39;source&#39;: &#39;/tmp/tmpdt6xa5rh.json&#39;, &#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 292)}
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>--- Chunk 2 ---
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>Content:
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>... the third paragraph concludes our sample.
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>Metadata:
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a>{&#39;document_id&#39;: &#39;doc-12345&#39;, &#39;created_at&#39;: &#39;2025-11-05&#39;, &#39;source&#39;: &#39;/tmp/tmpdt6xa5rh.json&#39;, &#39;chunk_num&#39;: 2, &#39;span&#39;: (250, 292)}
</code></pre></div>
</details>
<div class="admonition note">
<p class="admonition-title">Registering Without the Decorator</p>
<p>If you prefer not to use decorators, you can directly use the <code>custom_processor_registry.register()</code> method. This is particularly useful when registering processors dynamically.</p>
<div class="language-py highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span>
<span class="normal"><a href="#__codelineno-21-5">5</a></span>
<span class="normal"><a href="#__codelineno-21-6">6</a></span>
<span class="normal"><a href="#__codelineno-21-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.document_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">custom_processor_registry</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">my_other_processor</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>    <span class="c1"># ... your logic ...</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a>    <span class="k">return</span> <span class="s2">&quot;some text&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">file_path</span><span class="p">}</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="n">custom_processor_registry</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">my_other_processor</span><span class="p">,</span> <span class="s2">&quot;.custom&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyOtherProcessor&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</div>
<h3 id="custom_processor_registry-methods-summary"><a href="../../../reference/chunklet/document_chunker/registry/"><code>custom_processor_registry</code></a> Methods Summary</h3>
<ul>
<li><code>processors</code>: Returns a shallow copy of the dictionary of registered processors.</li>
<li><code>is_registered(ext: str)</code>: Checks if a processor is registered for the given file extension, returning <code>True</code> or <code>False</code>.</li>
<li><code>register(callback: Callable[[str], ReturnType] | None = None, *exts: str, name: str | None = None)</code>: Registers a processor callback for one or more file extensions.</li>
<li><code>unregister(*exts: str)</code>: Removes processor(s) from the registry.</li>
<li><code>clear()</code>: Clears all registered processors from the registry.</li>
<li><code>extract_data(file_path: str, ext: str)</code>: Processes a file using a registered processor, returning the extracted data and the name of the processor used.</li>
</ul>
<details class="info">
<summary>API Reference</summary>
<p>For complete technical details on the <code>DocumentChunker</code> class, check out the <a href="../../../reference/chunklet/document_chunker/document_chunker/">API documentation</a>.</p>
</details>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../sentence_splitter/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Sentence Splitter">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Sentence Splitter
              </div>
            </div>
          </a>
        
        
          
          <a href="../code_chunker/" class="md-footer__link md-footer__link--next" aria-label="Next: Code Chunker">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Code Chunker
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.copy", "content.code.annotate", "content.tabs.link", "content.tooltips", "navigation.tabs", "navigation.indexes", "navigation.instant", "navigation.footer", "header.autohide"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>