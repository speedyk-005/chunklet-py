
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="One library to split them all: Sentence, Code, Docsâ€” RAG-ready, token-aware, and multi-format.">
      
      
      
        <link rel="canonical" href="https://speedyk-005.github.io/chunklet-py/2.0.0/getting-started/programmatic/plain_text_chunker/">
      
      
        <link rel="prev" href="../sentence_splitter/">
      
      
        <link rel="next" href="../document_chunker/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Plain Text Chunker - chunklet-py Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%2020c-4.41%200-8-3.59-8-8s3.59-8%208-8%208%203.59%208%208-3.59%208-8%208m0-18A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202m1%205h-2v4H7v2h4v4h2v-4h4v-2h-4z%22/%3E%3C/svg%3E');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plain-text-chunker" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  <div class="md-banner md-banner--warning">
    You're not viewing the latest version.
    <a href="../../../..">
      <strong>Click here to go to latest.</strong>
    </a>
  </div>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="chunklet-py Documentation" class="md-header__button md-logo" aria-label="chunklet-py Documentation" data-md-component="logo">
      
  <img src="../../../img/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            chunklet-py Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Plain Text Chunker
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/speedyk-005/chunklet-py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../installation/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../supported-languages/" class="md-tabs__link">
        
  
  
    
  
  Supported Languages

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../exceptions-and-warnings/" class="md-tabs__link">
        
  
  
    
  
  Exceptions and Warnings

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../whats-new/" class="md-tabs__link">
        
  
  
    
  
  What's New

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../migration/" class="md-tabs__link">
        
  
  
    
  
  Migration Guide

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../troubleshooting/" class="md-tabs__link">
        
  
  
    
  
  Troubleshooting

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/chunklet/" class="md-tabs__link">
          
  
  
    
  
  API Reference

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="chunklet-py Documentation" class="md-nav__button md-logo" aria-label="chunklet-py Documentation" data-md-component="logo">
      
  <img src="../../../img/logo.svg" alt="logo">

    </a>
    chunklet-py Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/speedyk-005/chunklet-py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Programmatic Usage
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Programmatic Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sentence_splitter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sentence Splitter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Plain Text Chunker
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Plain Text Chunker
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#taming-your-text-with-precision" class="md-nav__link">
    <span class="md-ellipsis">
      
        Taming Your Text with Precision
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Taming Your Text with Precision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-plaintextchunker-excels" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where PlainTextChunker Excels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraint-based-chunking-explained" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constraint-Based Chunking Explained
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#single-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single Run
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chunking-by-sentences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Sentences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunking-by-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Tokens
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chunking by Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunking-by-section-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Section Breaks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-multiple-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining Multiple Constraints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Combining Multiple Constraints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#by-sentences-and-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      
        By Sentences and Tokens
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#by-sentences-and-section-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        By Sentences and Section Breaks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#by-tokens-and-section-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        By Tokens and Section Breaks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#by-sentences-tokens-and-section-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        By Sentences, Tokens, and Section Breaks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Run
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#separator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Separator
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../document_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document Chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../supported-languages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Supported Languages
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../exceptions-and-warnings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exceptions and Warnings
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../whats-new/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What's New
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>chunklet
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>chunklet
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>cli
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/code_chunker/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>code_chunker
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_3" id="__nav_8_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>code_chunker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/code_chunker/code_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>code_chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/code_chunker/helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>helpers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/code_chunker/patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/common/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>common
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_4" id="__nav_8_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>common
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/batch_runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>batch_runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/path_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>path_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/token_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>token_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/common/validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/document_chunker/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>document_chunker
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_5" id="__nav_8_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>document_chunker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/document_chunker/converters/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>converters
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_5_2" id="__nav_8_1_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>converters
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/converters/html_2_md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>html_2_md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/converters/latex_2_md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>latex_2_md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/converters/rst_2_md/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>rst_2_md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/document_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>document_chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_5_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/document_chunker/processors/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>processors
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_5_4" id="__nav_8_1_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_8_1_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>processors
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/base_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>base_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/docx_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>docx_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/epub_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>epub_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/processors/pdf_processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>pdf_processor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/document_chunker/registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/plain_text_chunker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>plain_text_chunker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../reference/chunklet/sentence_splitter/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>sentence_splitter
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_1_8" id="__nav_8_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>sentence_splitter
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/_fallback_splitter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>_fallback_splitter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/languages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>languages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/sentence_splitter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>sentence_splitter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/chunklet/sentence_splitter/terminators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    <code class="doc-symbol doc-symbol-nav doc-symbol-module"></code>terminators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#taming-your-text-with-precision" class="md-nav__link">
    <span class="md-ellipsis">
      
        Taming Your Text with Precision
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Taming Your Text with Precision">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-plaintextchunker-excels" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where PlainTextChunker Excels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constraint-based-chunking-explained" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constraint-Based Chunking Explained
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#single-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Single Run
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chunking-by-sentences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Sentences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunking-by-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Tokens
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chunking by Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chunking-by-section-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chunking by Section Breaks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-multiple-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining Multiple Constraints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Combining Multiple Constraints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#by-sentences-and-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      
        By Sentences and Tokens
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#by-sentences-and-section-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        By Sentences and Section Breaks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#by-tokens-and-section-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        By Tokens and Section Breaks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#by-sentences-tokens-and-section-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        By Sentences, Tokens, and Section Breaks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Run
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#separator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Separator
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="plain-text-chunker">Plain Text Chunker</h1>
<p align="center">
  <img src="../../../img/plain_text_chunker.jpg" alt="Plain Text Chunker" width="512"/>
</p>

<h2 id="taming-your-text-with-precision">Taming Your Text with Precision</h2>
<p>Do you have large blocks of text that need to be organized into smaller, more manageable pieces? The <code>PlainTextChunker</code> is designed to help you transform unruly text into perfectly sized, context-aware chunks. Whether you're preparing data for a Large Language Model (LLM) or building a search index, this tool aims to simplify your workflow.</p>
<p>Our approach goes beyond simple text splitting; it's about intelligent segmentation. The <code>PlainTextChunker</code> prioritizes context, working diligently to preserve the meaning and natural flow of your text.</p>
<p>Ready to bring order to your text? Let's explore how!</p>
<h3 id="where-plaintextchunker-excels">Where <code>PlainTextChunker</code> Excels</h3>
<p>The <code>PlainTextChunker</code> is engineered with a robust set of features, making it highly adaptable for diverse text-chunking needs:</p>
<ul>
<li><strong>Flexible Constraint-Based Chunking:</strong> Imagine having ultimate control over your text chunks! <code>PlainTextChunker</code> empowers you to define exactly how your text is segmented. You can set limits based on sentence count, token count, or even those handy Markdown section breaks. The best part? You can combine them in any way you like, giving you unparalleled precision over your chunk's size and structure.</li>
<li><strong>Intelligent Overlap for Context Preservation:</strong> Features clause-level overlap to ensure smooth transitions and maintain contextual coherence between consecutive chunks.</li>
<li><strong>Extensive Multilingual Support:</strong> Leveraging the capabilities of our sentence splitter, this chunker supports a broad spectrum of languages, enhancing its global applicability.</li>
<li><strong>Customizable Token Counting:</strong> Facilitates easy integration of custom token counting functions, allowing precise alignment with the specific tokenization requirements of different Large Language Models.</li>
<li><strong>Optimized Parallel Processing:</strong> Designed to efficiently handle large text volumes by utilizing multiple processors, significantly accelerating the chunking workflow.</li>
<li><strong>Memory-Conscious Operation:</strong> Processes even extensive documents with high memory efficiency by yielding chunks iteratively, thereby minimizing overall memory footprint.</li>
</ul>
<h3 id="constraint-based-chunking-explained">Constraint-Based Chunking Explained</h3>
<p><code>PlainTextChunker</code> uses a constraint-based approach to chunking. You can mix and match constraints to get the perfect chunk size. Here's a quick rundown of the available constraints:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Constraint</th>
<th style="text-align: left;">Value Requirement</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>max_sentences</code></td>
<td style="text-align: left;"><code>int &gt;= 1</code></td>
<td style="text-align: left;">This constraint is all about sentence power! You tell Chunklet how many sentences you want per chunk, and it gracefully groups them together, making sure your ideas flow smoothly from one chunk to the next.</td>
</tr>
<tr>
<td style="text-align: left;"><code>max_tokens</code></td>
<td style="text-align: left;"><code>int &gt;= 12</code></td>
<td style="text-align: left;">Got a strict token budget? This constraint is your best friend! Chunklet carefully adds sentences to your chunk, keeping a watchful eye on the token limit. If a sentence is a bit too chatty, it'll even politely split it at clause boundaries to keep everything perfectly snug.</td>
</tr>
<tr>
<td style="text-align: left;"><code>max_section_breaks</code></td>
<td style="text-align: left;"><code>int &gt;= 1</code></td>
<td style="text-align: left;">Perfect for structured documents! This constraint lets you limit the number of Markdown-style section breaks (like headings <code>##</code> or horizontal rules <code>---</code>) in each chunk. It's a fantastic way to keep your document's structure intact while chunking.</td>
</tr>
</tbody>
</table>
<p>The <code>PlainTextChunker</code> has two main methods: <code>chunk</code> for processing a single text and <code>batch_chunk</code> for processing multiple texts. Both methods return a generator that yields a <a href="https://pypi.org/project/python-box/#:~:text=Overview,strings%20or%20files."><code>Box</code></a> object for each chunk. The <code>Box</code> object has two main keys: <code>content</code> (str) and <code>metadata</code> (dict). For detailed information about metadata structure and usage, see the <a href="../../metadata/#plaintextchunker-metadata">Metadata guide</a>.</p>
<div class="admonition note">
<p class="admonition-title">Constraint Requirement</p>
<p>At least one limit mode (e.g., <code>max_sentences</code>, <code>max_tokens</code>, or <code>max_section_breaks</code>) must be provided when calling <code>chunk</code> or <code>batch_chunk</code>. Failing to specify any limit mode will result in an <a href="../../../exceptions-and-warnings/#invalidinputerror"><code>InvalidInputError</code></a>.</p>
</div>
<h2 id="single-run">Single Run</h2>
<p>Given the following text for our examples:</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="s2"># Introduction to Chunking</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="s2">This is the first paragraph of our document. It discusses the importance of text segmentation for various NLP tasks, such as RAG systems and summarization. We aim to break down large documents into manageable, context-rich pieces.</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="s2">## Why is Chunking Important?</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="s2">Effective chunking helps in maintaining the semantic coherence of information. It ensures that each piece of text retains enough context to be meaningful on its own, which is crucial for downstream applications.</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="s2">### Different Strategies</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="s2">There are several strategies for chunking, including splitting by sentences, by a fixed number of tokens, or by structural elements like headings. Each method has its own advantages depending on the specific use case.</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="s2">---</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="s2">## Advanced Chunking Techniques</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="s2">Beyond basic splitting, advanced techniques involve understanding the document&#39;s structure. For instance, preserving section breaks can significantly improve the quality of chunks for hierarchical documents. This section will delve into such methods.</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="s2">### Overlap Considerations</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="s2">To ensure smooth transitions between chunks, an overlap mechanism is often employed. This means that a portion of the previous chunk is included in the beginning of the next, providing continuity.</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="s2">---</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="s2"># Conclusion</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="s2">In conclusion, mastering chunking is key to unlocking the full potential of your text data. Experiment with different constraints to find the optimal strategy for your needs.</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="s2">&quot;&quot;&quot;</span>
</code></pre></div>
<h3 id="chunking-by-sentences">Chunking by Sentences</h3>
<p>Here's how you can use <code>PlainTextChunker</code> to chunk text by the number of sentences:</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.plain_text_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">PlainTextChunker</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">PlainTextChunker</span><span class="p">()</span>  <span class="c1"># (1)!</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>             <span class="c1"># (2)!</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    <span class="n">overlap_percent</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>       <span class="c1"># (3)!</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    <span class="n">offset</span><span class="o">=</span><span class="mi">0</span>                 <span class="c1"># (4)!</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="p">)</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<ol>
<li>Setting <code>verbose=True</code> enables detailed logging, which is <code>False</code> by default, showing internal processes like language detection.</li>
<li>Instructs the chunker to automatically detect the language of the input text. While convenient, explicitly setting the language (e.g., <code>lang="en"</code>) can improve accuracy and performance for known languages.</li>
<li>Configures the chunker to have no overlap between consecutive chunks. The default behavior includes a 20% overlap to maintain context across chunks.</li>
<li>Specifies that chunking should start from the very beginning of the text (the first sentence). The default is 0.</li>
</ol>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>--- Chunk 1 ---
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 73)}
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Content: # Introduction to Chunking
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>This is the first paragraph of our document.
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>--- Chunk 2 ---
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (74, 259)}
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>Content: It discusses the importance of text segmentation for various NLP tasks, such as RAG systems and summarization.
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>We aim to break down large documents into manageable, context-rich pieces.
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>--- Chunk 3 ---
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (260, 370)}
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>Content: ## Why is Chunking Important?
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>Effective chunking helps in maintaining the semantic coherence of information.
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>--- Chunk 4 ---
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>Metadata: {&#39;chunk_num&#39;: 4, &#39;span&#39;: (371, 529)}
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>Content: It ensures that each piece of text retains enough context to be meaningful on its own, which is crucial for downstream applications.
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>### Different Strategies
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>--- Chunk 5 ---
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>Metadata: {&#39;chunk_num&#39;: 5, &#39;span&#39;: (531, 748)}
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>Content: There are several strategies for chunking, including splitting by sentences, by a fixed number of tokens, or by structural elements like headings.
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>Each method has its own advantages depending on the specific use case.
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>--- Chunk 6 ---
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>Metadata: {&#39;chunk_num&#39;: 6, &#39;span&#39;: (749, 786)}
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>Content: ---
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>## Advanced Chunking Techniques
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>--- Chunk 7 ---
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>Metadata: {&#39;chunk_num&#39;: 7, &#39;span&#39;: (788, 995)}
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>Content: Beyond basic splitting, advanced techniques involve understanding the document&#39;s structure.
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>For instance, preserving section breaks can significantly improve the quality of chunks for hierarchical documents.
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>--- Chunk 8 ---
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a>Metadata: {&#39;chunk_num&#39;: 8, &#39;span&#39;: (996, 1066)}
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a>Content: This section will delve into such methods.
<a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>
<a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a>### Overlap Considerations
<a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a>
<a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a>--- Chunk 9 ---
<a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>Metadata: {&#39;chunk_num&#39;: 9, &#39;span&#39;: (1068, 1264)}
<a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a>Content: To ensure smooth transitions between chunks, an overlap mechanism is often employed.
<a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a>This means that a portion of the previous chunk is included in the beginning of the next, providing continuity.
<a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>
<a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a>--- Chunk 10 ---
<a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a>Metadata: {&#39;chunk_num&#39;: 10, &#39;span&#39;: (749, 763)}
<a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a>Content: ---
<a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a>
<a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a># Conclusion
<a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a>
<a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a>--- Chunk 11 ---
<a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a>Metadata: {&#39;chunk_num&#39;: 11, &#39;span&#39;: (1285, 1459)}
<a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a>Content: In conclusion, mastering chunking is key to unlocking the full potential of your text data.
<a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a>Experiment with different constraints to find the optimal strategy for your needs.
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Enable Verbose Logging</p>
<p>To see detailed logging during the chunking process, you can set the <code>verbose</code> parameter to <code>True</code> when initializing the <code>DocumentChunker</code>:
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">PlainTextChunker</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></p>
</div>
<h3 id="chunking-by-tokens">Chunking by Tokens</h3>
<div class="admonition note">
<p class="admonition-title">Token Counter Requirement</p>
<p>When using the <code>max_tokens</code> constraint, a <code>token_counter</code> function is essential. This function, which you provide, should accept a string and return an integer representing its token count. Failing to provide a <code>token_counter</code> will result in a <a href="../../../exceptions-and-warnings/#missingtokencountererror"><code>MissingTokenCounterError</code></a>.</p>
</div>
<h4 id="setup">Setup</h4>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.plain_text_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">PlainTextChunker</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="c1"># Simple counter for demonstration purpose</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">word_counter</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">PlainTextChunker</span><span class="p">(</span><span class="n">token_counter</span><span class="o">=</span><span class="n">word_counter</span><span class="p">)</span>         <span class="c1"># (1)!</span>
</code></pre></div>
<ol>
<li>Initializes <code>PlainTextChunker</code> with a custom <code>word_counter</code> function. This function will be used to count tokens when <code>max_tokens</code> is used.</li>
</ol>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="n">lang</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="p">)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>--- Chunk 1 ---
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 291)}
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>Content: # Introduction to Chunking
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>This is the first paragraph of our document.
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>It discusses the importance of text segmentation for various NLP tasks, such as RAG systems and summarization.
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>We aim to break down large documents into manageable, context-rich pieces.
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>## Why is Chunking Important?
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>--- Chunk 2 ---
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (256, 573)}
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>Content: ...
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>## Why is Chunking Important?
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>Effective chunking helps in maintaining the semantic coherence of information.
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>It ensures that each piece of text retains enough context to be meaningful on its own, which is crucial for downstream applications.
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>### Different Strategies
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>There are several strategies for chunking,
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>--- Chunk 3 ---
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (531, 880)}
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>Content: There are several strategies for chunking,
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>including splitting by sentences, by a fixed number of tokens, or by structural elements like headings.
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>Each method has its own advantages depending on the specific use case.
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>---
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>## Advanced Chunking Techniques
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>Beyond basic splitting, advanced techniques involve understanding the document&#39;s structure.
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>--- Chunk 4 ---
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>Metadata: {&#39;chunk_num&#39;: 4, &#39;span&#39;: (808, 1153)}
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>Content: ... advanced techniques involve understanding the document&#39;s structure.
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>For instance, preserving section breaks can significantly improve the quality of chunks for hierarchical documents.
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>This section will delve into such methods.
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>### Overlap Considerations
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>To ensure smooth transitions between chunks, an overlap mechanism is often employed.
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>--- Chunk 5 ---
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>Metadata: {&#39;chunk_num&#39;: 5, &#39;span&#39;: (1109, 1377)}
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>Content: ... an overlap mechanism is often employed.
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a>
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>This means that a portion of the previous chunk is included in the beginning of the next, providing continuity.
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>
<a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>---
<a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>
<a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a># Conclusion
<a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a>In conclusion, mastering chunking is key to unlocking the full potential of your text data.
<a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a>
<a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>--- Chunk 6 ---
<a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a>Metadata: {&#39;chunk_num&#39;: 6, &#39;span&#39;: (1296, 1459)}
<a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a>Content: ... mastering chunking is key to unlocking the full potential of your text data.
<a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a>
<a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a>Experiment with different constraints to find the optimal strategy for your needs.
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Overrides token_counter</p>
<p>You can also provide the <code>token_counter</code> directly to the <code>chunk</code> method. within the <code>chunk</code> method call (e.g., <code>chunker.chunk(..., token_counter=my_tokenizer_function)</code>). If a <code>token_counter</code> is provided in both the constructor and the <code>chunk</code> method, the one in the <code>chunk</code> method will be used.</p>
</div>
<h3 id="chunking-by-section-breaks">Chunking by Section Breaks</h3>
<p>This constraint is useful for documents structured with Markdown headings or thematic breaks.</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="n">max_section_breaks</span><span class="o">=</span><span class="mi">2</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="p">)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>--- Chunk 1 ---
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 503)}
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Content: # Introduction to Chunking
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>This is the first paragraph of our document.
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>It discusses the importance of text segmentation for various NLP tasks, such as RAG systems and summarization.
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>We aim to break down large documents into manageable, context-rich pieces.
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>## Why is Chunking Important?
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>Effective chunking helps in maintaining the semantic coherence of information.
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>It ensures that each piece of text retains enough context to be meaningful on its own, which is crucial for downstream applications.
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>--- Chunk 2 ---
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (371, 753)}
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>Content: It ensures that each piece of text retains enough context to be meaningful on its own,
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>which is crucial for downstream applications.
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>### Different Strategies
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>There are several strategies for chunking, including splitting by sentences, by a fixed number of tokens, or by structural elements like headings.
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>Each method has its own advantages depending on the specific use case.
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>---
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>--- Chunk 3 ---
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (678, 1038)}
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>Content: Each method has its own advantages depending on the specific use case.
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>---
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a>## Advanced Chunking Techniques
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a>Beyond basic splitting, advanced techniques involve understanding the document&#39;s structure.
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a>For instance, preserving section breaks can significantly improve the quality of chunks for hierarchical documents.
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>This section will delve into such methods.
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>--- Chunk 4 ---
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a>Metadata: {&#39;chunk_num&#39;: 4, &#39;span&#39;: (890, 1269)}
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a>Content: ... preserving section breaks can significantly improve the quality of chunks for hierarchical documents.
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a>This section will delve into such methods.
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a>
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a>### Overlap Considerations
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>To ensure smooth transitions between chunks, an overlap mechanism is often employed.
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>This means that a portion of the previous chunk is included in the beginning of the next, providing continuity.
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a>
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a>---
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a>
<a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>--- Chunk 5 ---
<a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a>Metadata: {&#39;chunk_num&#39;: 5, &#39;span&#39;: (1239, 1459)}
<a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a>Content: ... providing continuity.
<a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a>
<a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a>---
<a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a>
<a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a># Conclusion
<a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a>In conclusion, mastering chunking is key to unlocking the full potential of your text data.
<a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a>Experiment with different constraints to find the optimal strategy for your needs.
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Adding Base Metadata</p>
<p>You can pass a <code>base_metadata</code> dictionary to the <code>chunk</code> method. This metadata will be included in the <code>metadata</code> of each chunk. For example: <code>chunker.chunk(..., base_metadata={"source": "my_document.txt"})</code>. For more details on metadata structure and available fields, see the <a href="../../metadata/#plaintextchunker-metadata">Metadata guide</a>.</p>
</div>
<h3 id="combining-multiple-constraints">Combining Multiple Constraints</h3>
<p>The real power of <code>PlainTextChunker</code> comes from combining multiple constraints. This allows for highly specific and granular control over how your text is chunked. Here are a few examples of how you can combine different constraints.</p>
<div class="admonition note">
<p class="admonition-title">Token Counter Requirement</p>
<p>Remember, whenever you use the <code>max_tokens</code> constraint, you must provide a <code>token_counter</code> function.</p>
</div>
<h4 id="by-sentences-and-tokens">By Sentences and Tokens</h4>
<p>This is useful when you want to limit by both the number of sentences and the overall token count, whichever is reached first.</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">100</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">)</span>
</code></pre></div>
<h4 id="by-sentences-and-section-breaks">By Sentences and Section Breaks</h4>
<p>This combination is great for ensuring that chunks don't span across too many sections while also keeping the sentence count in check.</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="n">max_section_breaks</span><span class="o">=</span><span class="mi">2</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">)</span>
</code></pre></div>
<h4 id="by-tokens-and-section-breaks">By Tokens and Section Breaks</h4>
<p>A powerful combination for structured documents where you want to respect section boundaries while adhering to a strict token budget.</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    <span class="n">max_section_breaks</span><span class="o">=</span><span class="mi">1</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="p">)</span>
</code></pre></div>
<h4 id="by-sentences-tokens-and-section-breaks">By Sentences, Tokens, and Section Breaks</h4>
<p>For the ultimate level of control, you can combine all three constraints. The chunking will stop as soon as any of the three limits is reached.</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    <span class="n">max_section_breaks</span><span class="o">=</span><span class="mi">2</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="p">)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Customizing the Continuation Marker</p>
<p>You can customize the continuation marker, which is prepended to clauses that don't fit in the previous chunk. To do this, pass the <code>continuation_marker</code> parameter to the chunker's constructor.</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">PlainTextChunker</span><span class="p">(</span><span class="n">continuation_marker</span><span class="o">=</span><span class="s2">&quot;[...]&quot;</span><span class="p">)</span>
</code></pre></div>
<p>If you don't want any continuation marker, you can set it to an empty string:</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">PlainTextChunker</span><span class="p">(</span><span class="n">continuation_marker</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<h2 id="batch-run">Batch Run</h2>
<p>While the <code>chunk</code> method is perfect for processing a single text, the <code>batch_chunk</code> method is designed for efficiently processing multiple texts in parallel. It returns a generator, allowing you to process large volumes of text without exhausting memory. It shares most of its core arguments with <code>chunk</code> (like <code>max_sentences</code>, <code>max_tokens</code>, <code>lang</code>, <code>overlap_percent</code>, <code>offset</code>, and <code>token_counter</code>), but introduces additional parameters to manage batch processing.</p>
<p>Here's an example of how to use <code>batch_chunk</code>:</p>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.plain_text_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">PlainTextChunker</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">word_counter</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="n">EN_TEXT</span> <span class="o">=</span> <span class="s2">&quot;This is the first document. It has multiple sentences for chunking. Here is the second document. It is a bit longer to test batch processing effectively. And this is the third document. Short and sweet, but still part of the batch. The fourth document. Another one to add to the collection for testing purposes.&quot;</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="n">ES_TEXT</span> <span class="o">=</span> <span class="s2">&quot;Este es el primer documento. Contiene varias frases para la segmentaciÃ³n de texto. El segundo ejemplo es mÃ¡s extenso. Queremos probar el procesamiento en diferentes idiomas.&quot;</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="n">FR_TEXT</span> <span class="o">=</span> <span class="s2">&quot;Ceci est le premier document. Il est essentiel pour l&#39;Ã©valuation multilingue. Le deuxiÃ¨me document est court mais important. La variation est la clÃ©.&quot;</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="c1"># Initialize PlainTextChunker</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">PlainTextChunker</span><span class="p">(</span><span class="n">token_counter</span><span class="o">=</span><span class="n">word_counter</span><span class="p">)</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="n">chunks</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">batch_chunk</span><span class="p">(</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>    <span class="n">texts</span><span class="o">=</span><span class="p">[</span><span class="n">EN_TEXT</span><span class="p">,</span> <span class="n">ES_TEXT</span><span class="p">,</span> <span class="n">FR_TEXT</span><span class="p">],</span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>    <span class="n">n_jobs</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>                    <span class="c1"># (1)!</span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>    <span class="n">on_errors</span><span class="o">=</span><span class="s2">&quot;raise&quot;</span><span class="p">,</span>           <span class="c1"># (2)!</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>    <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>          <span class="c1"># (3)!</span>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="p">)</span>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunk </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<ol>
<li>Specifies the number of parallel processes to use for chunking. The default value is <code>None</code> (use all available CPU cores).</li>
<li>Define how to handle errors during processing. Determines how errors during chunking are handled. If set to <code>"raise"</code> (default), an exception will be raised immediately. If set to <code>"break"</code>, the process will be halt and partial result will be returned.
 If set to <code>"ignore"</code>, errors will be silently ignored.</li>
<li>Display a progress bar during batch processing. The default value is <code>False</code>.</li>
</ol>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>  0%|                                              | 0/3 [00:00&lt;?, ?it/s]
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>--- Chunk 1 ---
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 97)}
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>Content: This is the first document.
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>It has multiple sentences for chunking.
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>Here is the second document.
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>--- Chunk 2 ---
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (96, 202)}
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>Content: It is a bit longer to test batch processing effectively.
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>And this is the third document.
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>Short and sweet,
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>--- Chunk 3 ---
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>Metadata: {&#39;chunk_num&#39;: 3, &#39;span&#39;: (186, 253)}
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>Content: Short and sweet,
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>but still part of the batch.
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a>The fourth document.
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a>
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>--- Chunk 4 ---
<a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a>Metadata: {&#39;chunk_num&#39;: 4, &#39;span&#39;: (252, 311)}
<a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a>Content: Another one to add to the collection for testing purposes.
<a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a>
<a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a>--- Chunk 5 ---
<a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 118)}
<a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a>Content: Este es el primer documento.
<a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a>Contiene varias frases para la segmentaciÃ³n de texto.
<a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a>El segundo ejemplo es mÃ¡s extenso.
<a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a>
<a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a>--- Chunk 6 ---
<a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (117, 173)}
<a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a>Content: Queremos probar el procesamiento en diferentes idiomas.
<a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a>
<a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a>Chunking ...: 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž            | 2/3 [00:00, 10.09it/s]
<a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a>--- Chunk 7 ---
<a id="__codelineno-16-36" name="__codelineno-16-36" href="#__codelineno-16-36"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 125)}
<a id="__codelineno-16-37" name="__codelineno-16-37" href="#__codelineno-16-37"></a>Content: Ceci est le premier document.
<a id="__codelineno-16-38" name="__codelineno-16-38" href="#__codelineno-16-38"></a>Il est essentiel pour l&#39;Ã©valuation multilingue.
<a id="__codelineno-16-39" name="__codelineno-16-39" href="#__codelineno-16-39"></a>Le deuxiÃ¨me document est court mais important.
<a id="__codelineno-16-40" name="__codelineno-16-40" href="#__codelineno-16-40"></a>
<a id="__codelineno-16-41" name="__codelineno-16-41" href="#__codelineno-16-41"></a>--- Chunk 8 ---
<a id="__codelineno-16-42" name="__codelineno-16-42" href="#__codelineno-16-42"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (125, 149)}
<a id="__codelineno-16-43" name="__codelineno-16-43" href="#__codelineno-16-43"></a>Content: La variation est la clÃ©.
<a id="__codelineno-16-44" name="__codelineno-16-44" href="#__codelineno-16-44"></a>
<a id="__codelineno-16-45" name="__codelineno-16-45" href="#__codelineno-16-45"></a>Chunking ...: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2/2 [00:00, 19.88it/s]
</code></pre></div>
</details>
<div class="admonition warning">
<p class="admonition-title">Generator Cleanup</p>
<p>When using <code>batch_chunk</code>, it's crucial to ensure the generator is properly closed, especially if you don't iterate through all the chunks. This is necessary to release the underlying multiprocessing resources. The recommended way is to use a <code>try...finally</code> block to call <code>close()</code> on the generator. For more details, see the <a href="../../../troubleshooting/">Troubleshooting</a> guide.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Adding Base Metadata to Batches</p>
<p>Just like with the <code>chunk</code> method, you can pass a <code>base_metadata</code> dictionary to <code>batch_chunk</code>. This is useful for adding common information, like a source filename, to all chunks processed in the batch. For more details on metadata structure and available fields, see the <a href="../../metadata/#plaintextchunker-metadata">Metadata guide</a>.</p>
</div>
<h3 id="separator">Separator</h3>
<p>The <code>separator</code> parameter allows you to specify a custom value to be yielded after all chunks for a given text have been processed. This is particularly useful when processing multiple texts in a batch, as it helps to clearly distinguish between the chunks originating from different input texts in the output stream.</p>
<div class="admonition note">
<p class="admonition-title">note</p>
<p><code>None</code> cannot be used as a separator.</p>
</div>
<div class="language-py highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">more_itertools</span><span class="w"> </span><span class="kn">import</span> <span class="n">split_at</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">chunklet.plain_text_chunker</span><span class="w"> </span><span class="kn">import</span> <span class="n">PlainTextChunker</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">chunker</span> <span class="o">=</span> <span class="n">PlainTextChunker</span><span class="p">()</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="n">texts</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>    <span class="s2">&quot;This is the first document. It has two sentences.&quot;</span><span class="p">,</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>    <span class="s2">&quot;This is the second document. It also has two sentences.&quot;</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="p">]</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="n">custom_separator</span> <span class="o">=</span> <span class="s2">&quot;---END_OF_DOCUMENT---&quot;</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="n">chunks_with_separators</span> <span class="o">=</span> <span class="n">chunker</span><span class="o">.</span><span class="n">batch_chunk</span><span class="p">(</span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>    <span class="n">texts</span><span class="p">,</span>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>    <span class="n">max_sentences</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>    <span class="n">separator</span><span class="o">=</span><span class="n">custom_separator</span><span class="p">,</span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>    <span class="n">show_progress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="p">)</span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="n">chunk_groups</span> <span class="o">=</span> <span class="n">split_at</span><span class="p">(</span><span class="n">chunks_with_separators</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="n">custom_separator</span><span class="p">)</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="c1"># Process the results using split_at</span>
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">doc_chunks</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunk_groups</span><span class="p">):</span>
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>    <span class="k">if</span> <span class="n">doc_chunks</span><span class="p">:</span> <span class="c1"># (1)!</span>
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Chunks for Document </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">doc_chunks</span><span class="p">:</span>
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>        <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<ol>
<li>Avoid processing the empty list at the end if stream ends with separator</li>
</ol>
<details class="success">
<summary>Click to show output</summary>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>--- Chunks for Document 1 ---
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>Content: This is the first document.
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 27)}
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>Content: It has two sentences.
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (28, 49)}
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>--- Chunks for Document 2 ---
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>Content: This is the second document.
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>Metadata: {&#39;chunk_num&#39;: 1, &#39;span&#39;: (0, 28)}
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>Content: It also has two sentences.
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>Metadata: {&#39;chunk_num&#39;: 2, &#39;span&#39;: (29, 55)}
</code></pre></div>
</details>
<details class="info">
<summary>API Reference</summary>
<p>For a deep dive into the <code>PlainTextChunker</code> class, its methods, and all the nitty-gritty details, check out the full <a href="../../../reference/chunklet/plain_text_chunker/">API documentation</a>.````</p>
</details>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../sentence_splitter/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Sentence Splitter">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Sentence Splitter
              </div>
            </div>
          </a>
        
        
          
          <a href="../document_chunker/" class="md-footer__link md-footer__link--next" aria-label="Next: Document Chunker">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Document Chunker
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.copy", "content.code.annotate", "content.tabs.link", "content.tooltips", "navigation.tabs", "navigation.indexes", "navigation.instant", "navigation.footer", "header.autohide"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>